<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta charset="UTF-8" />
    <title>TempestTracker</title>
    <script src="src/model/Tempest.js"></script>
</head>
<body>
<h1>TempestTracker</h1>
<menu>
    <li><a href="listTempests.html"><button type="button">List all active tempests</button></a></li>
    <li><a href="createTempest.html"><button type="button">Add a new tempest</button></a></li>
    <li><button type="button" onclick="Tempest.clearData()">Clear database</button></li>
    <li><button type="button" onclick="Tempest.createTestData()">Create test data</button></li>
    <li><button type="button" onclick="Tempest.destroyOldTempests()">Destroy Old Tempests Test</button></li>
</menu>
<script>

  var es = new EventSource("es");
  es.onerror=function(e){
    es.close();
  }

  es.addEventListener("TEMPEST",function(e){
    var tempest = JSON.parse(e.data);
    console.log(tempest);
  });

</script>
</body>
</html>
